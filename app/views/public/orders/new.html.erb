<div class="container p-3">
  <div class="row">
    <div class="col">

      <div class="col-md-6 col-md-offset-3">
        <h3 class="text-align"><span class="bg-light">注文情報入力</span></h3>
      </div>

      <%= form_with model: @order, url: confirm_public_orders_path, method: :post do |f| %>

        <h4>支払方法</h4>
        <%= f.radio_button :payment_method, :credit_card, checked: true %>
        <%= f.label :payment_method, Order.payment_methods_i18n[:credit_card], value: :credit_card %><br>
        <%= f.radio_button :payment_method, :transfer %>
        <%= f.label :payment_method, Order.payment_methods_i18n[:transfer], value: :transfer %>

        <h4>お届け先</h4>
        <%= f.radio_button :address_type, "customer_address", checked: true %>
        <%= f.label :address_type, "ご自身の住所" %><br>
        〒<%= current_customer.postal_code %> <%= current_customer.address %> <%= current_customer.last_name %><%= current_customer.first_name %>
        <br><br>

        <%= f.radio_button :address_type, "registered_address" %>
        <%= f.label :address_type, "登録済住所から選択" %><br>
        <%= f.select :registered_address_id, current_customer.addresses.map { |a| ["〒#{a.postal_code} #{a.address} #{a.name}", a.id] }, include_blank: "登録している住所から選択" %>

        <br><br>

        <%= f.radio_button :address_type, "new_address" %>
        <%= f.label :address_type, "新しいお届け先" %>

        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label">郵便番号</label>
          <div class="col-sm-3">
            <%= f.text_field :postal_code, class: "form-control mt-1", placeholder: "0000000" %>
          </div>
        </div>

        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label">住所</label>
          <div class="col-sm-7">
            <%= f.text_area :address, class: "form-control", rows: 1, placeholder: "東京都渋谷区〇〇…" %>
          </div>
        </div>

        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label">宛名</label>
          <div class="col-sm-3">
            <%= f.text_field :name, class: "form-control mt-1", placeholder: "山田太郎" %>
          </div>
        </div>

        <%= f.submit "確認画面へ進む", class: "btn btn-info" %>
      <% end %>

    </div>
  </div>
</div>



